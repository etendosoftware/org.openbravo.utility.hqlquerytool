<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD Xhtml 1.0 Transitional//EN" "http://www.w3.org/tr/xhtml1/Dtd/xhtml1-transitional.dtd">
<!--
 *************************************************************************
 * The contents of this file are subject to the Openbravo  Public  License
 * Version  1.1  (the  "License"),  being   the  Mozilla   Public  License
 * Version 1.1  with a permitted attribution clause; you may not  use this
 * file except in compliance with the License. You  may  obtain  a copy of
 * the License at http://www.openbravo.com/legal/license.html
 * Software distributed under the License  is  distributed  on  an "AS IS"
 * basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
 * License for the specific  language  governing  rights  and  limitations
 * under the License.
 * The Original Code is Openbravo ERP.
 * The Initial Developer of the Original Code is Openbravo SLU
 * All portions are Copyright (C) 2009 Openbravo SLU
 * All Rights Reserved.
 * Contributor(s):  ______________________________________.
 ************************************************************************
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>HQL Query Tool</title>
<link rel="SHORTCUT ICON" href="../../../../../web/images/favicon.ico" type="image/x-icon" />
<link rel="stylesheet" type="text/css" href="../../../../../web/skins/Default/Openbravo_ERP_250.css" id="paramCSS" />
<script language="JavaScript" type="text/javascript" id="paramDirectory">var baseDirectory = "../../../../../web/";</script>
<script language="JavaScript" src="../../../../../web/js/messages.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript" id="paramLanguage">var defaultLang = "en_US";</script>
<script language="JavaScript" src="../../../../../web/js/shortcuts.js" type="text/javascript"></script>
<script language="JavaScript" src="../../../../../web/js/utils.js" type="text/javascript"></script>
<script language="JavaScript" src="../../../../../web/js/windowKeyboard.js" type="text/javascript"></script>
<script language="JavaScript" src="../../../../../web/js/searchs.js" type="text/javascript"></script>
<script language="JavaScript" src="../../../../../web/js/appStatus.js" type="text/javascript"></script>
<script language="JavaScript" src="../../../../../web/js/ajax.js" type="text/javascript"></script>
<script language="JavaScript" src="../../../../../web/js/default/MessageBox.js" type="text/javascript"></script>
<script language="JavaScript" src="../utility/DynamicJS.js" type="text/javascript"></script>

<script language="JavaScript" src="../../../../../web/js/jscalendar/calendar.js" type="text/javascript"></script>
<script language="JavaScript" src="../../../../../web/js/jscalendar/lang/calendar-es.js" type="text/javascript" id="fieldCalendar"></script>
<script language="JavaScript" src="../../../../../web/js/default/DateTextBox.js" type="text/javascript"></script>
<script language="JavaScript" src="../../../../../web/js/dojoConfig.js" type="text/javascript"></script>
<script language="JavaScript" src="../../../../../web/js/dojo/dojo.js" type="text/javascript"></script>
<script type="text/javascript"> 
  //all dojo.require above this line
  dojo.hostenv.writeIncludes(); //makes debugging in Venkman possible
</script>

<script language="JavaScript" type="text/javascript">

    function loadResult() {
      try {
        var url = "org.openbravo.utility.hqlquerytool.HQLQueryTool.html"
        var paramXMLReq = null;
        return submitXmlHttpRequest(callBack, document.frmMain, "RESULT", url, false, null, paramXMLReq)
      } catch (e) {
        alert(e);
      }
    }

    function callBack(paramXMLParticular, XMLHttpRequestObj) {
     var strText = "";
      if (getReadyStateHandler(XMLHttpRequestObj)) {
        try {
          if (XMLHttpRequestObj.responseText) {
            strText = XMLHttpRequestObj.responseText;
            document.getElementById('sectionResult').innerHTML = strText;
            updateAll();
          } else {
              document.getElementById('sectionResult').innerHTML = '';
              updateAll();
          }
        } catch (e) {
        }
      }
      return true;
    }

    function loadPropertyList() {
      try {
        var url = "org.openbravo.utility.hqlquerytool.HQLQueryTool.html"
        var paramXMLReq = null;
        return submitXmlHttpRequest(callBackPropertyList, document.frmMain, "PROPERTYLIST", url, false, null, paramXMLReq)
      } catch (e) {
        alert(e);
      }
    }

    function callBackPropertyList(paramXMLParticular, XMLHttpRequestObj) {
      var strText = "";
      if (getReadyStateHandler(XMLHttpRequestObj)) {
        try {
          if (XMLHttpRequestObj.responseText) {
            strText = XMLHttpRequestObj.responseText;
            document.getElementById('propertyList').innerHTML = strText;
          }
        } catch (e) {
        }
      }
      return true;
    }


    function listOptions(select) {
        for (i = 0; i < select.length; i++) {
            alert(select[i].value + " " + select[i].selected);
          }
    }
  </script>

<script language="JavaScript" type="text/javascript">
    function onLoadDo(){
      this.windowTables = new Array(
        new windowTableId('client','buttonNext')
      );
      setWindowTableParentElement();
      this.tabsTables = new Array(
        new tabTableId('tdtopTabs')
      );
      setTabTableParentElement();
      enableShortcuts('edition');
      setBrowserAutoComplete(false);
      resizeArea();
      updateMenuIcon('buttonMenu');

      setWindowElementFocus('firstElement');
    }

    function onResizeDo(){
      resizeArea();
    }
  </script>

<style type="text/css">
html,body {
height:100%;
width:100%;
overflow:auto;
}
</style>

</head>

<body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0"
    onload="onLoadDo();" onresize="onResizeDo();" style="overflow: auto">
<form method="post" action="HQLQueryTool.html" name="frmMain" style="overflow: auto">
<input type="hidden" name="Command"></input>
<table height="100%" border="0" cellpadding="0" cellspacing="0"
    id="main">
    <tr>
        <td valign="top" id="tdleftTabs"></td>
        <td valign="top">
        <table width="100%" border="0" cellspacing="0" cellpadding="0"
            class="Main_ContentPane_Left">
            <tr>
                <td class="Main_NavBar_bg_left" id="tdleftSeparator"></td>
            </tr>
            <tr>
                <td class="Main_ToolBar_bg_left" valign="top"></td>
            </tr>
            <tr>
                <td class="Main_Client_bg_left"></td>
            </tr>
            <tr>
                <td class="Main_Bottom_bg_left"></td>
            </tr>
        </table>
        </td>
        <td valign="top">
        <div class="Main_ContentPane_NavBar" id="tdtopButtons"></div>
        <div class="Main_ContentPane_ToolBar" id="paramToolBar"></div>
        <table width="100%" border="0" cellspacing="0" cellpadding="0"
            class="Main_ContentPane_TabPane" id="tdtopTabs">
            <tr id="paramParentTabContainer"></tr>
            <tr id="paramMainTabContainer"></tr>
            <tr id="paramChildTabContainer"></tr>
        </table>
        <div class="Main_ContentPane_Client"
            style="overflow: auto; border-bottom: 0px none;"
            >
        <table class="dojoTabContainer" border="0" cellpadding="0"
            cellspacing="0" width="100%" summary="">
            <tr>
                <td>
                <table class="dojoTabPaneWrapper" border="0" cellpadding="0"
                    cellspacing="0" width="100%" summary="">
                    <tr>
                        <td><!-- MessageBox -->

                        <table cellpadding="0" cellspacing="0" id="messageBoxID"
                            class="MessageBoxyy">
                            <tbody>
                                <tr class="MessageBox_TopMargin">
                                    <td class="MessageBox_LeftMargin"></td>
                                    <td></td>
                                    <td class="MessageBox_RightMargin"></td>
                                </tr>
                                <tr>
                                    <td class="MessageBox_LeftMargin"></td>
                                    <td>

                                    <table cellpadding="0" cellspacing="0" class="MessageBox_Container">
                                        <tbody>
                                            <tr>
                                                <td class="MessageBox_LeftTrans">
                                                <table style="width: 100%; height: 100%" cellpadding="0"
                                                    cellspacing="0">
                                                    <tbody>
                                                        <tr>
                                                            <td class="MessageBox_TopLeft"></td>
                                                        </tr>
                                                        <tr>
                                                            <td class="MessageBox_Left"></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                </td>
                                                <td class="MessageBox_bg">

                                                <table class="MessageBox_Top">
                                                    <tbody>
                                                        <tr>
                                                            <td><span>
                                                            <table cellpadding="0" cellspacing="0"
                                                                class="MessageBox_Body_ContentCell">
                                                                <tbody>
                                                                    <tr>
                                                                        <td class="MessageBox_Icon_ContentCell">
                                                                        <div class="MessageBox_Icon"></div>
                                                                        </td>
                                                                        <td style="vertical-align: top;"
                                                                            id="messageBoxIDContent"><span>
                                                                        <div class="MessageBox_TextTitle"
                                                                            id="messageBoxIDTitle">xxInfo: AccessTableWithNoView</div>
                                                                        <div class="MessageBox_TextDescription"
                                                                            id="messageBoxIDMessage">xxThe current information is empty.</div>
                                                                        <div class="MessageBox_TextSeparator"></div>
                                                                        </span></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            </span></td>
                                                        </tr>
                                                    </tbody>
                                                </table>

                                                </td>
                                                <td class="MessageBox_RightTrans">
                                                <table style="width: 100%; height: 100%" cellpadding="0"
                                                    cellspacing="0">
                                                    <tbody>
                                                        <tr>
                                                            <td class="MessageBox_TopRight"></td>
                                                        </tr>
                                                        <tr>
                                                            <td class="MessageBox_Right"></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td rowspan="2" class="MessageBox_BottomLeft"></td>
                                                <td class="MessageBox_BottomTrans MessageBox_bg"></td>
                                                <td rowspan="2" class="MessageBox_BottomRight"></td>
                                            </tr>
                                            <tr>
                                                <td class="MessageBox_Bottom"></td>
                                            </tr>
                                        </tbody>
                                    </table>

                                    </td>
                                    <td class="MessageBox_RightMargin"></td>
                                </tr>
                                <tr class="MessageBox_BottomMargin">
                                    <td class="MessageBox_LeftMargin"></td>
                                    <td></td>
                                    <td class="MessageBox_RightMargin"></td>
                                </tr>
                            </tbody>
                        </table>
                        
                        
                        <!-- USER CONTROLS -->
                        <table class="Main_Client_TableEdition">
                            <tr>
                                <td class="TableEdition_OneCell_width"></td>
                                <td class="TableEdition_OneCell_width"></td>
                                <td class="TableEdition_OneCell_width"></td>
                                <td class="TableEdition_OneCell_width"></td>
                                <td class="TableEdition_OneCell_width"></td>
                                <td class="TableEdition_OneCell_width"></td>
                            </tr>
                            <tr>
                                <td class="List_ContentCell" colspan="4">
                                <div class="LabelText">Query:</div>
                                   <TEXTAREA id="inpHQLQuery" name="inpHQLQuery" class="dojoValidateValid TextArea_FourCells_width TextArea_VeryLarge_height" required="false" maxlength="2000" name="inphelp" onkeyup="" onkeydown="changeToEditingMode('onkeydown');" onkeypress="changeToEditingMode('onkeypress');" oncut="changeToEditingMode('oncut');" onpaste="changeToEditingMode('onpaste');" oncontextmenu="changeToEditingMode('oncontextmenu');" onchange="logChanges(this);return true;"></TEXTAREA>
                                </td>
                                <td class="Combo_ContentCell" colspan="2" rowspan="3">
                                <div class="LabelText">View properties per entity:</div>
                                <select name="inpEntity"
                                    onkeypress="changeToEditingMode('onkeypress');"
                                    onchange="changeToEditingMode('onchange', this);logChanges(this);loadPropertyList();return true;"
                                    class="ComboKey Combo_TwoCells_width" id="inpEntity">
                                    <div id="entityOptions" />
                                </select>         
                                <br/>
                                <div id="propertyList" style="padding-left: 20px"></div>
                                </td>
                            </tr>
                            <tr>
                                <td class="Button_RightAlign_ContentCell" colspan="4">
                                    <button type="button" id="buttonNext" class="ButtonLink"
                                        onclick="loadResult(); return false;"
                                        onfocus="buttonEvent('onfocus', this); window.status='Next'; return true;"
                                        onblur="buttonEvent('onblur', this);"
                                        onkeyup="buttonEvent('onkeyup', this);"
                                        onkeydown="buttonEvent('onkeydown', this);"
                                        onkeypress="buttonEvent('onkeypress', this);"
                                        onmouseup="buttonEvent('onmouseup', this);"
                                        onmousedown="buttonEvent('onmousedown', this);"
                                        onmouseover="buttonEvent('onmouseover', this); window.status='Next'; return true;"
                                        onmouseout="buttonEvent('onmouseout', this);">
                                    <table class="Button">
                                        <tr>
                                            <td class="Button_left"></td>
                                            <td class="Button_text Button_width">Execute</td>
                                            <td class="Button_right"><img
                                                class="Button_Icon Button_Icon_next" alt="Next" title="Next"
                                                src="../../../../../web/images/blank.gif" border="0" /></td>
                                        </tr>
                                    </table>
                                    </button>
                                </td>
                            </tr>
                    <tr><td colspan="4" style="vertical-align: top;">
                        <div id="sectionResult" style="vertical-align: top;">
                        <div id="test" style="height: 500px"></div>
                        </div>
                    </td>
                    </tr>
                        </table>

                        <!-- USER CONTROLS -->
                        
                        </td>

                    </tr>
                </table>
                </td>
            </tr>
        </table>

        </td>
        <td valign="top">
        <table width="100%" border="0" cellspacing="0" cellpadding="0"
            class="Main_ContentPane_Right" id="tdrightSeparator">
            <tr>
                <td class="Main_NavBar_bg_right"></td>
            </tr>
            <tr>
                <td class="Main_ToolBar_bg_right" valign="top"></td>
            </tr>
            <tr>
                <td class="Main_Client_bg_right"></td>
            </tr>
            <tr>
                <td class="Main_Bottom_bg_right"></td>
            </tr>
        </table>
        </td>
    </tr>
</table>
</form>
</body>
</html>
